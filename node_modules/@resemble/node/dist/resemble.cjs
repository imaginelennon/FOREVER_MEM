var e=require("isomorphic-fetch"),t=require("isomorphic-form-data");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=/*#__PURE__*/r(e),o=/*#__PURE__*/r(t),i="",s="https://app.resemble.ai/api/",u="",c={"Content-Type":"application/json","x-access-token":""+i},a={"Content-Type":"application/json",Authorization:"Token token="+i},d={headers:function(){return a},synthesisServerHeaders:function(){return c},setBaseUrl:function(e){s=e,e.endsWith("/")||(s+="/")},setApiKey:function(e){i=e,a.Authorization="Token token="+e,c["x-access-token"]=e},setSynthesisUrl:function(e){u=e,e.endsWith("/")||(u+="/")},endpoint:function(e,t){var r=t.startsWith("/")?t.substring(1):t;return""+s+e+"/"+r},synServerUrl:function(e){var t=e.startsWith("/")?e.substring(1):e;return""+u+t}};function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}var f=function(e,t){return void 0===t&&(t=!1),fetch((t?d.synServerUrl:d.endpoint)("v2",e),{method:"GET",headers:t?d.synthesisServerHeaders():d.headers()})},l=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=!1),fetch((r?d.synServerUrl:d.endpoint)("v2",e),{method:"POST",headers:r?d.synthesisServerHeaders():d.headers(),body:JSON.stringify(t)})},v=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=!1),fetch((r?d.synServerUrl:d.endpoint)("v2",e),{method:"PUT",headers:r?d.synthesisServerHeaders():d.headers(),body:JSON.stringify(t)})},h=function(e,t){return void 0===t&&(t=!1),fetch((t?d.synServerUrl:d.endpoint)("v2",e),{method:"DELETE",headers:t?d.synthesisServerHeaders():d.headers()})},p=function(e){return{success:!1,message:"Library error: "+e}};function P(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var y={all:function(e,t){try{return Promise.resolve(P(function(){return Promise.resolve(f("projects?page="+e+(t?"&page_size="+t:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return m({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},get:function(e){try{return Promise.resolve(P(function(){return Promise.resolve(f("projects/"+e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=m({},e,{item:m({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},create:function(e){try{return Promise.resolve(P(function(){return Promise.resolve(l("projects",e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=m({},e,{item:m({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},update:function(e,t){try{return Promise.resolve(P(function(){return Promise.resolve(v("projects/"+e,t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=m({},e,{item:m({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e){try{return Promise.resolve(P(function(){return Promise.resolve(h("projects/"+e)).then(function(e){return e.json()})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}}};function _(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var j=function(e,t){try{return Promise.resolve(_(function(){return Promise.resolve(l("projects/"+e+"/clips",t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=m({},e,{item:m({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},g={all:function(e,t,r){try{return Promise.resolve(_(function(){return Promise.resolve(f("projects/"+e+"/clips?page="+t+(r?"&page_size="+r:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return m({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},get:function(e,t){try{return Promise.resolve(_(function(){return Promise.resolve(f("projects/"+e+"/clips/"+t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=m({},e,{item:m({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},createAsync:function(e,t){return j(e,t)},createSync:function(e,t){return j(e,t)},updateAsync:function(e,t,r){try{return Promise.resolve(_(function(){return Promise.resolve(v("projects/"+e+"/clips/"+t,r)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=m({},e,{item:m({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e,t){try{return Promise.resolve(_(function(){return Promise.resolve(h("projects/"+e+"/clips/"+t)).then(function(e){return e.json()})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}}};function w(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var D={all:function(e,t,r){try{return Promise.resolve(w(function(){return Promise.resolve(f("voices/"+e+"/recordings?page="+t+(r?"&page_size="+r:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return m({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},get:function(e,t){try{return Promise.resolve(w(function(){return Promise.resolve(f("voices/"+e+"/recordings/"+t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=m({},e,{item:m({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},create:function(e,t,r,i){try{return Promise.resolve(w(function(){var s=new o.default;return s.append("name",t.name),s.append("text",t.text),s.append("emotion",t.emotion),s.append("is_active",t.is_active?"true":"false"),s.append("file",r,{knownLength:i}),Promise.resolve(n.default(d.endpoint("v2","voices/"+e+"/recordings"),{method:"POST",headers:m({Authorization:d.headers().Authorization,"Content-Type":"multipart/form-data"},s.getHeaders?s.getHeaders():{}),body:s})).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=m({},e,{item:m({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},update:function(e,t,r){try{return Promise.resolve(w(function(){return Promise.resolve(v("voices/"+e+"/recordings/"+t,r)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=m({},e,{item:m({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e,t){try{return Promise.resolve(w(function(){return Promise.resolve(h("voices/"+e+"/recordings/"+t)).then(function(e){return e.json()})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}}};function S(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var b={all:function(e,t){try{return Promise.resolve(S(function(){return Promise.resolve(f("voices?page="+e+(t?"&page_size="+t:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return m({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},get:function(e){try{return Promise.resolve(S(function(){return Promise.resolve(f("voices/"+e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=m({},e,{item:m({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},create:function(e){try{return Promise.resolve(S(function(){return Promise.resolve(l("voices",e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=m({},e,{item:m({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},update:function(e,t){try{return Promise.resolve(S(function(){return Promise.resolve(v("voices/"+e,t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=m({},e,{item:m({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e){try{return Promise.resolve(S(function(){return Promise.resolve(h("voices/"+e)).then(function(e){return e.json()})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}},build:function(e){try{return Promise.resolve(S(function(){return Promise.resolve(l("voices/"+e+"/build")).then(function(e){return e.json()})},function(e){return p(e)}))}catch(e){return Promise.reject(e)}}};exports.Resemble={setApiKey:d.setApiKey,setBaseUrl:d.setBaseUrl,setSynthesisUrl:d.setSynthesisUrl,v2:{projects:{all:y.all,create:y.create,update:y.update,get:y.get,delete:y.destroy},clips:{all:g.all,createSync:g.createSync,createAsync:g.createAsync,updateAsync:g.updateAsync,get:g.get,delete:g.destroy},voices:{all:b.all,create:b.create,update:b.update,build:b.build,get:b.get,delete:b.destroy},recordings:{all:D.all,get:D.get,create:D.create,update:D.update,delete:D.destroy}}};
//# sourceMappingURL=resemble.cjs.map
