!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("isomorphic-fetch"),require("isomorphic-form-data")):"function"==typeof define&&define.amd?define(["exports","isomorphic-fetch","isomorphic-form-data"],t):t((e||self).node={},e.isomorphicFetch,e.isomorphicFormData)}(this,function(e,t,r){function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=/*#__PURE__*/n(t),i=/*#__PURE__*/n(r),s="",u="https://app.resemble.ai/api/",c="",a={"Content-Type":"application/json","x-access-token":""+s},d={"Content-Type":"application/json",Authorization:"Token token="+s},m={headers:function(){return d},synthesisServerHeaders:function(){return a},setBaseUrl:function(e){u=e,e.endsWith("/")||(u+="/")},setApiKey:function(e){s=e,d.Authorization="Token token="+e,a["x-access-token"]=e},setSynthesisUrl:function(e){c=e,e.endsWith("/")||(c+="/")},endpoint:function(e,t){var r=t.startsWith("/")?t.substring(1):t;return""+u+e+"/"+r},synServerUrl:function(e){var t=e.startsWith("/")?e.substring(1):e;return""+c+t}};function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}var l=function(e,t){return void 0===t&&(t=!1),fetch((t?m.synServerUrl:m.endpoint)("v2",e),{method:"GET",headers:t?m.synthesisServerHeaders():m.headers()})},h=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=!1),fetch((r?m.synServerUrl:m.endpoint)("v2",e),{method:"POST",headers:r?m.synthesisServerHeaders():m.headers(),body:JSON.stringify(t)})},p=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=!1),fetch((r?m.synServerUrl:m.endpoint)("v2",e),{method:"PUT",headers:r?m.synthesisServerHeaders():m.headers(),body:JSON.stringify(t)})},v=function(e,t){return void 0===t&&(t=!1),fetch((t?m.synServerUrl:m.endpoint)("v2",e),{method:"DELETE",headers:t?m.synthesisServerHeaders():m.headers()})},P=function(e){return{success:!1,message:"Library error: "+e}};function y(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var _={all:function(e,t){try{return Promise.resolve(y(function(){return Promise.resolve(l("projects?page="+e+(t?"&page_size="+t:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return f({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},get:function(e){try{return Promise.resolve(y(function(){return Promise.resolve(l("projects/"+e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=f({},e,{item:f({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},create:function(e){try{return Promise.resolve(y(function(){return Promise.resolve(h("projects",e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=f({},e,{item:f({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},update:function(e,t){try{return Promise.resolve(y(function(){return Promise.resolve(p("projects/"+e,t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=f({},e,{item:f({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e){try{return Promise.resolve(y(function(){return Promise.resolve(v("projects/"+e)).then(function(e){return e.json()})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}}};function j(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var g=function(e,t){try{return Promise.resolve(j(function(){return Promise.resolve(h("projects/"+e+"/clips",t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=f({},e,{item:f({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},w={all:function(e,t,r){try{return Promise.resolve(j(function(){return Promise.resolve(l("projects/"+e+"/clips?page="+t+(r?"&page_size="+r:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return f({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},get:function(e,t){try{return Promise.resolve(j(function(){return Promise.resolve(l("projects/"+e+"/clips/"+t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=f({},e,{item:f({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},createAsync:function(e,t){return g(e,t)},createSync:function(e,t){return g(e,t)},updateAsync:function(e,t,r){try{return Promise.resolve(j(function(){return Promise.resolve(p("projects/"+e+"/clips/"+t,r)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=f({},e,{item:f({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e,t){try{return Promise.resolve(j(function(){return Promise.resolve(v("projects/"+e+"/clips/"+t)).then(function(e){return e.json()})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}}};function D(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var b={all:function(e,t,r){try{return Promise.resolve(D(function(){return Promise.resolve(l("voices/"+e+"/recordings?page="+t+(r?"&page_size="+r:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return f({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},get:function(e,t){try{return Promise.resolve(D(function(){return Promise.resolve(l("voices/"+e+"/recordings/"+t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=f({},e,{item:f({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},create:function(e,t,r,n){try{return Promise.resolve(D(function(){var s=new i.default;return s.append("name",t.name),s.append("text",t.text),s.append("emotion",t.emotion),s.append("is_active",t.is_active?"true":"false"),s.append("file",r,{knownLength:n}),Promise.resolve(o.default(m.endpoint("v2","voices/"+e+"/recordings"),{method:"POST",headers:f({Authorization:m.headers().Authorization,"Content-Type":"multipart/form-data"},s.getHeaders?s.getHeaders():{}),body:s})).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=f({},e,{item:f({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},update:function(e,t,r){try{return Promise.resolve(D(function(){return Promise.resolve(p("voices/"+e+"/recordings/"+t,r)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=f({},e,{item:f({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e,t){try{return Promise.resolve(D(function(){return Promise.resolve(v("voices/"+e+"/recordings/"+t)).then(function(e){return e.json()})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}}};function S(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var A={all:function(e,t){try{return Promise.resolve(S(function(){return Promise.resolve(l("voices?page="+e+(t?"&page_size="+t:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return f({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},get:function(e){try{return Promise.resolve(S(function(){return Promise.resolve(l("voices/"+e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=f({},e,{item:f({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},create:function(e){try{return Promise.resolve(S(function(){return Promise.resolve(h("voices",e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=f({},e,{item:f({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},update:function(e,t){try{return Promise.resolve(S(function(){return Promise.resolve(p("voices/"+e,t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=f({},e,{item:f({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e){try{return Promise.resolve(S(function(){return Promise.resolve(v("voices/"+e)).then(function(e){return e.json()})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}},build:function(e){try{return Promise.resolve(S(function(){return Promise.resolve(h("voices/"+e+"/build")).then(function(e){return e.json()})},function(e){return P(e)}))}catch(e){return Promise.reject(e)}}};e.Resemble={setApiKey:m.setApiKey,setBaseUrl:m.setBaseUrl,setSynthesisUrl:m.setSynthesisUrl,v2:{projects:{all:_.all,create:_.create,update:_.update,get:_.get,delete:_.destroy},clips:{all:w.all,createSync:w.createSync,createAsync:w.createAsync,updateAsync:w.updateAsync,get:w.get,delete:w.destroy},voices:{all:A.all,create:A.create,update:A.update,build:A.build,get:A.get,delete:A.destroy},recordings:{all:b.all,get:b.get,create:b.create,update:b.update,delete:b.destroy}}}});
//# sourceMappingURL=resemble.umd.js.map
