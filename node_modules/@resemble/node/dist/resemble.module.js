import e from"isomorphic-fetch";import t from"isomorphic-form-data";var r="",n="https://app.resemble.ai/api/",o="",i={"Content-Type":"application/json","x-access-token":""+r},s={"Content-Type":"application/json",Authorization:"Token token="+r},u={headers:function(){return s},synthesisServerHeaders:function(){return i},setBaseUrl:function(e){n=e,e.endsWith("/")||(n+="/")},setApiKey:function(e){r=e,s.Authorization="Token token="+e,i["x-access-token"]=e},setSynthesisUrl:function(e){o=e,e.endsWith("/")||(o+="/")},endpoint:function(e,t){var r=t.startsWith("/")?t.substring(1):t;return""+n+e+"/"+r},synServerUrl:function(e){var t=e.startsWith("/")?e.substring(1):e;return""+o+t}};function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}var a=function(e,t){return void 0===t&&(t=!1),fetch((t?u.synServerUrl:u.endpoint)("v2",e),{method:"GET",headers:t?u.synthesisServerHeaders():u.headers()})},d=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=!1),fetch((r?u.synServerUrl:u.endpoint)("v2",e),{method:"POST",headers:r?u.synthesisServerHeaders():u.headers(),body:JSON.stringify(t)})},m=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=!1),fetch((r?u.synServerUrl:u.endpoint)("v2",e),{method:"PUT",headers:r?u.synthesisServerHeaders():u.headers(),body:JSON.stringify(t)})},f=function(e,t){return void 0===t&&(t=!1),fetch((t?u.synServerUrl:u.endpoint)("v2",e),{method:"DELETE",headers:t?u.synthesisServerHeaders():u.headers()})},l=function(e){return{success:!1,message:"Library error: "+e}};function h(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var p={all:function(e,t){try{return Promise.resolve(h(function(){return Promise.resolve(a("projects?page="+e+(t?"&page_size="+t:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return c({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},get:function(e){try{return Promise.resolve(h(function(){return Promise.resolve(a("projects/"+e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=c({},e,{item:c({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},create:function(e){try{return Promise.resolve(h(function(){return Promise.resolve(d("projects",e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=c({},e,{item:c({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},update:function(e,t){try{return Promise.resolve(h(function(){return Promise.resolve(m("projects/"+e,t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=c({},e,{item:c({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e){try{return Promise.resolve(h(function(){return Promise.resolve(f("projects/"+e)).then(function(e){return e.json()})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}}};function v(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var P=function(e,t){try{return Promise.resolve(v(function(){return Promise.resolve(d("projects/"+e+"/clips",t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=c({},e,{item:c({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},y={all:function(e,t,r){try{return Promise.resolve(v(function(){return Promise.resolve(a("projects/"+e+"/clips?page="+t+(r?"&page_size="+r:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return c({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},get:function(e,t){try{return Promise.resolve(v(function(){return Promise.resolve(a("projects/"+e+"/clips/"+t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=c({},e,{item:c({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},createAsync:function(e,t){return P(e,t)},createSync:function(e,t){return P(e,t)},updateAsync:function(e,t,r){try{return Promise.resolve(v(function(){return Promise.resolve(m("projects/"+e+"/clips/"+t,r)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=c({},e,{item:c({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e,t){try{return Promise.resolve(v(function(){return Promise.resolve(f("projects/"+e+"/clips/"+t)).then(function(e){return e.json()})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}}};function _(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var j={all:function(e,t,r){try{return Promise.resolve(_(function(){return Promise.resolve(a("voices/"+e+"/recordings?page="+t+(r?"&page_size="+r:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return c({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},get:function(e,t){try{return Promise.resolve(_(function(){return Promise.resolve(a("voices/"+e+"/recordings/"+t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=c({},e,{item:c({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},create:function(r,n,o,i){try{return Promise.resolve(_(function(){var s=new t;return s.append("name",n.name),s.append("text",n.text),s.append("emotion",n.emotion),s.append("is_active",n.is_active?"true":"false"),s.append("file",o,{knownLength:i}),Promise.resolve(e(u.endpoint("v2","voices/"+r+"/recordings"),{method:"POST",headers:c({Authorization:u.headers().Authorization,"Content-Type":"multipart/form-data"},s.getHeaders?s.getHeaders():{}),body:s})).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=c({},e,{item:c({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},update:function(e,t,r){try{return Promise.resolve(_(function(){return Promise.resolve(m("voices/"+e+"/recordings/"+t,r)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=c({},e,{item:c({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e,t){try{return Promise.resolve(_(function(){return Promise.resolve(f("voices/"+e+"/recordings/"+t)).then(function(e){return e.json()})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}}};function g(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var w={all:function(e,t){try{return Promise.resolve(g(function(){return Promise.resolve(a("voices?page="+e+(t?"&page_size="+t:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return c({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},get:function(e){try{return Promise.resolve(g(function(){return Promise.resolve(a("voices/"+e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=c({},e,{item:c({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},create:function(e){try{return Promise.resolve(g(function(){return Promise.resolve(d("voices",e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=c({},e,{item:c({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},update:function(e,t){try{return Promise.resolve(g(function(){return Promise.resolve(m("voices/"+e,t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=c({},e,{item:c({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e){try{return Promise.resolve(g(function(){return Promise.resolve(f("voices/"+e)).then(function(e){return e.json()})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}},build:function(e){try{return Promise.resolve(g(function(){return Promise.resolve(d("voices/"+e+"/build")).then(function(e){return e.json()})},function(e){return l(e)}))}catch(e){return Promise.reject(e)}}},D={setApiKey:u.setApiKey,setBaseUrl:u.setBaseUrl,setSynthesisUrl:u.setSynthesisUrl,v2:{projects:{all:p.all,create:p.create,update:p.update,get:p.get,delete:p.destroy},clips:{all:y.all,createSync:y.createSync,createAsync:y.createAsync,updateAsync:y.updateAsync,get:y.get,delete:y.destroy},voices:{all:w.all,create:w.create,update:w.update,build:w.build,get:w.get,delete:w.destroy},recordings:{all:j.all,get:j.get,create:j.create,update:j.update,delete:j.destroy}}};export{D as Resemble};
//# sourceMappingURL=resemble.module.js.map
